<!DOCTYPE html>
<html>
<head>
  <title>Auto Open & Close Loop</title>

  <style>
    body { font-family: Arial, sans-serif; padding: 20px; display: flex; gap: 10px; }
    button { padding: 10px 16px; border: none; border-radius: 6px; cursor: pointer; }
    .start { background:#4caf50; color:white; }
    .stop  { background:#f44336; color:white; }
  </style>
</head>

<body>

  <button class="start" onclick="startLoop()">Start Loop</button>
  <button class="stop" onclick="stopLoop()">Stop Loop</button>
  <br>

   enter intervalid (ms)<input type="number" value="10000" placeholder="window interval." id="intervalDuration">
    enter window open duration (ms)<input type="number" value="10000" placeholder="window open duration." id="openWindowDuration">


<script>
  let intervalId = null;

  function startLoop() {
    if (intervalId) return; // already running

    intervalId = setInterval(() => {
      const win = window.open(
        "https://adamsaho.github.io/monetag-test/",
        "_blank",
        "width=900,height=600"
      );

      // close THIS window after 10 seconds
      setTimeout(() => {
        if (win && !win.closed) win.close();
      }, Number(document.querySelector('#openWindowDuration').value.trim()));

    }, Number(document.querySelector('#intervalDuration').value.trim()));

  }

  function stopLoop() {
    clearInterval(intervalId);
    intervalId = null;
  }
</script>

</body>
</html>
